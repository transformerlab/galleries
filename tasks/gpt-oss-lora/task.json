{
  "name": "gpt-oss-lora-train",
  "description": "Remote task for training gpt-oss-20 with lora that uses transformerlab-sdk.",
  "type": "REMOTE",
  "plugin": "remote_orchestrator",
  "tag": "TRAIN",
  "inputs": {},
  "outputs": {},
  "config": {
  "command": "MASTER_ADDR=$(echo \"$SKYPILOT_NODE_IPS\" | head -n1) && NP=$(($SKYPILOT_NUM_GPUS_PER_NODE * $SKYPILOT_NUM_NODES)) && python transformerlab-examples/gpt-oss/train.py --model_id openai/gpt-oss-20b --enable_lora --max_steps 100 --save_steps 20",
  "accelerators": "A100-80GB:4",
  "setup": "git clone https://github.com/transformerlab/transformerlab-examples.git && uv pip install torch && uv pip install 'trl>=0.20.0' 'peft>=0.17.0' 'transformers>=4.55.0' && uv pip install deepspeed && uv pip install transformerlab && uv pip install git+https://github.com/huggingface/accelerate.git@c0a3aefea8aa5008a0fbf55b049bd3f0efa9cbf2"
  }
}

